from matrica import Matrica

def main():
   print("1. zadatak")
   matrica11 = Matrica(2, 2, [[1.00000001, 2.00000002], [3.00000001, 4.00000001]])
   matrica12 = Matrica(2, 2, [[1.00000001, 2.00000002], [3.00000001, 4.00000001]])
   print("matrice su jednake: ", matrica11 == matrica12)
   print("elementi matrice su isti:", matrica11[0][0] == matrica12[0][0])

   print("Matrica 1:", matrica11[0][0])
   print("Elementi matrice su jednake nakon množenja i dijeljenja:", matrica12[0][0] == matrica11[0][0])

   print("\n2. zadatak")
   matrica2 = Matrica.read_from_file("matrica_2.txt")
   vektor2 = Matrica.read_from_file("vektor_2.txt")
   print("riješavam LU dekompoziciju:")
   matrica2 = matrica2.LU_decomposition()
   vektor2 = matrica2.supstitution_forward(vektor2)
   vektor2 = matrica2.supstitution_backward(vektor2)
   print(matrica2)
   print("rjesenje sustava:\n", vektor2)
   print("riješavam LUP dekompoziciju: ")
   vektor2 = Matrica.read_from_file("vektor_2.txt")
   matrica2 = Matrica.read_from_file("matrica_2.txt")
   matrica2, P, _ = matrica2.LUP_decomposition()
   vektor2 = vektor2.apply_permutation_to_vector(P)
   vektor2 = matrica2.supstitution_forward(vektor2)
   vektor2 = matrica2.supstitution_backward(vektor2)
   print(matrica2)
   print("rjesenje sustava:\n ", vektor2)

   print("\n3. zadatak")      
   matrica3 = Matrica(3, 3, [[1, 2, 3], [4, 5, 6], [7, 8, 9]])
   print("riješavam LU dekompoziciju:")
   matrica3 = matrica3.LU_decomposition()
   print(matrica3)
   vektor3 = Matrica(3, 1, [[1], [2], [3]])
   vektor3 = matrica3.supstitution_forward(vektor3)
   vektor3 = matrica3.supstitution_backward(vektor3)
   print("rjesenje sustava:\n ", vektor3)
   
   matrica3 = Matrica(3, 3, [[1, 2, 3], [4, 5, 6], [7, 8, 9]])
   #print(matrica3)

   vektor3 = Matrica(3, 1, [[1], [2], [3]])
   vektor3 = matrica3.solve(vektor3)
   print("rjesenje sustava:\n ", vektor3)

   print("\n4. zadatak")
   matrica4 = Matrica(3, 3, [[0.000001, 3000000, 2000000], [1000000, 2000000, 3000000], [2000000, 1000000, 2000000]])
   vektor4 = Matrica(3, 1, [[12000000.000001], [14000000], [10000000]])
   matrica4 = matrica4.LU_decomposition()
   print("riješavam LU dekompoziciju:")
   print(matrica4)
   vektor4 = matrica4.supstitution_forward(vektor4)
   vektor4 = matrica4.supstitution_backward(vektor4)
   print("rjesenje sustava:\n ", vektor4)
   matrica4 = Matrica(3, 3, [[0.000001, 3000000, 2000000], [1000000, 2000000, 3000000], [2000000, 1000000, 2000000]])
   vektor4 = Matrica(3, 1, [[12000000.000001], [14000000], [10000000]])
   print(matrica4)
   vektor4 = matrica4.solve(vektor4)
   print("rjesenje sustava:\n ", vektor4)

   print("\n5. zadatak")
   matrica5 = Matrica(3,3, [[0, 1, 2], [2, 0, 3], [3, 5, 1]])
   print("riješavam LU dekompoziciju:")
   matrica5 = matrica5.LU_decomposition()
   print("riješavam LUP dekompoziciju: ")
   vektor5 = Matrica(3, 1, [[6], [9], [3]])
   vektor5 = matrica5.solve(vektor5)
   print("rjesenje sustava:\n ", vektor5)

   print("\n6. zadatak")
   Matrica.epsilon = 1e-6
   matrica6 = Matrica(3,3, [[4000000000,1000000000, 3000000000], [4, 2, 7], [0.0000000003, 0.0000000005, 0.0000000002]])
   
   matrica6 = matrica6.LU_decomposition()
   print("riješavam LU dekompoziciju:")
   print(matrica6)
   matrica6 = Matrica(3,3, [[4000000000,1000000000, 3000000000], [4, 2, 7], [0.0000000003, 0.0000000005, 0.0000000002]])
   vektor6 = Matrica(3, 1, [[9000000000], [15], [0.0000000015]])
   vektor6 = matrica6.supstitution_forward(vektor6)
   vektor6 = matrica6.supstitution_backward(vektor6)
   print("rjesenje sustava:\n ", vektor6)
   matrica6, P, _ = matrica6.LUP_decomposition()
   print("riješavam LUP dekompoziciju: ")
   print(matrica6)
   vektor6 = Matrica(3, 1, [[9000000000], [15], [0.0000000015]])
   vektor6 = vektor6.apply_permutation_to_vector(P)
   vektor6 = matrica6.supstitution_forward(vektor6)
   vektor6 = matrica6.supstitution_backward(vektor6)
   print("rjesenje sustava:\n ", vektor6)

   print("\n7. zadatak")
   Matrica.epsilon = 1e-8
   matrica7 = Matrica(3,3, [[1, 2, 3], [4, 5, 6], [7, 8, 9]])
   print("matrica 7:\n",  matrica7)
   matrica7 = ~matrica7 
   print("inverz matrice:",  matrica7)

   print("\n8. zadatak")
   matrica8 = Matrica(3,3, [[4, -5, -2], [5, -6, -2], [-8, 9, 3]])
   print("matrica 8:\n",  matrica8)
   matrica8 = ~matrica8
   print("inverz matrice:\n",  matrica8)

   print("\n9. zadatak")
   matrica9 = Matrica(3,3, [[4, -5, -2], [5, -6, -2], [-8, 9, 3]])
   print("matrica 9:\n",  matrica9)
   matrica9 = matrica9.determinant()
   print("determinanta matrice:",  matrica9)

   print("\n10. zadatak")
   matrica10 = Matrica(3,3, [[3, 9, 6], [4, 12, 12], [1, -1, 1]])
   print("matrica 10:\n",  matrica10)
   matrica10 = matrica10.determinant()
   print("determinanta matrice:",  matrica10)

if __name__ == "__main__":
   main()